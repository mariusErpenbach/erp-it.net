(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{5550:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(5155),s=a(2115),l=a(4477);let i=(0,l.createServerReference)("40559609ef7a5827c7e4ea308c114defa1396b546b",l.callServer,void 0,l.findSourceMapURL,"fetchArticleById");var n=a(822),c=a(8947),d=a(6766),h=a(6874),o=a.n(h);function u(e){let{params:t}=e,a=(0,s.use)(t).entry,[l,h]=(0,s.useState)(null),[u,m]=(0,s.useState)("Lade Artikel..."),[f,p]=(0,s.useState)(""),[v,g]=(0,s.useState)([]),[j,x]=(0,s.useState)([]);return((0,s.useEffect)(()=>{(async()=>{try{let r=await i(a);if(r.success&&r.data){var e,t;h(r.data),m("✅ Artikel erfolgreich geladen"),g((e=r.data.sources)?(e.match(/(https?:\/\/[^\s,]+)/g)||[]).map(e=>{let t=new URL(e).hostname.replace(/^www\./,"");return{domain:t,url:e,favicon:"https://www.google.com/s2/favicons?domain=".concat(t,"&sz=32")}}):[]);let a=await c.xI.parse(r.data.content);p(n.A.sanitize(a)),x((t=r.data.main_image_url)?t.split(/[\n,]+/).map(e=>e.trim()).filter(e=>e.startsWith("http")):[])}else m(r.message||"❌ Fehler beim Laden")}catch(e){m("❌ Fehler beim Abrufen des Artikels")}})()},[a]),l)?(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"article-wrapper",children:[(0,r.jsxs)("main",{className:"article-page",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{children:l.title}),(0,r.jsxs)("p",{children:["Ver\xf6ffentlicht am: ",new Date(l.published_date).toLocaleDateString()]})]}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:f}}),(0,r.jsx)("div",{id:"sources",children:v.length>0?v.map(e=>{let{domain:t,url:a,favicon:s}=e;return(0,r.jsxs)(o(),{href:a,target:"_blank",rel:"noopener noreferrer",className:"source-link",title:a,children:[(0,r.jsx)(d.default,{src:s,alt:t,className:"favicon",width:32,height:32,onError:e=>e.currentTarget.src="https://uploads.erp-it.net/images/ufo1.png"}),t]},a)}):(0,r.jsx)("p",{children:"Keine Quellen vorhanden"})})]}),j.length>0&&(0,r.jsx)("div",{children:j.map((e,t)=>(0,r.jsx)("div",{className:"article-image-container",children:(0,r.jsx)(d.default,{src:e,alt:"Artikelbild ".concat(t+1),fill:!0,className:"articleImage",style:{objectFit:"cover"}})},e))})]})}):(0,r.jsx)("div",{children:u})}},5760:(e,t,a)=>{Promise.resolve().then(a.bind(a,5550))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,46,852,441,684,358],()=>t(5760)),_N_E=e.O()}]);